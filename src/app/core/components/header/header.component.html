<header>
  <nav>
    <div class="container-logo-search">
      <a
        class="nav-link logo"
        routerLink="/"
        routerLinkActive="active"
      >
        Clique & Buy
      </a>
      <div class="search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
          <path
            d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
          />
        </svg>
        <input type="search" placeholder="Rechercher..." />
      </div>
    </div>


    <ul class="navbar-nav desktop">
      <li class="nav-item add-posts">
        <a
          class="nav-link"
          routerLink="/product-add"
          routerLinkActive="active"
        >
          <i class="fa-solid fa-plus"></i>
          Déposer une annonce
        </a>
      </li>

        
      <li class="nav-item favoris">
          <a
          class="nav-link"
          routerLink="/favoris"
          routerLinkActive="active"
        >
          <span class="header-container-icon">
            <i class="fa-solid fa-heart"></i>
            <span class="item-counter">
              {{ favorisCount ? favorisCount : 0 }}
            </span>
          </span>
          Favoris
        </a>
      </li>
      <li class="nav-item">
        <a
          class="nav-link"
          routerLink="/panier"
          routerLinkActive="active"
        >
          <span class="header-container-icon">
            <i class="fa-solid fa-cart-shopping"></i>
            <span class="item-counter">
              {{ cartItemsCount ? cartItemsCount : 0 }}
            </span>
          </span>
          Panier
        </a>
      </li>

      <li class="nav-item">
        @if(userIsLogger){
        <a
          class="nav-link"
          routerLink="/profil"
          routerLinkActive="active"
          ><i class="fa-solid fa-user"></i> {{ user.name }}</a
        >
        } @else {
        <a
          class="nav-link"
          routerLink="/connexion"
          routerLinkActive="active"
          ><i class="fa-solid fa-user"> </i>Connexion</a
        >
        }
      </li>

      @if (userIsLogger) {
      <li class="nav-item logout" tabindex="0" (click)="logOutNow()">
        <a>
          <i class="fa-solid fa-arrow-right-from-bracket"></i>
          Déconnexion
        </a>
      </li>
      }
    </ul>

    <div class="icon-menu-mobile">
    <a
        class="nav-link"
        routerLink="/favoris"
        routerLinkActive="active"
      >
        <span class="header-container-icon">
          <i class="fa-solid fa-heart"></i>
          <span class="item-counter">
            {{ favorisCount ? favorisCount : 0 }}
          </span>
        </span>
      </a> 


      <a
        class="nav-link"
        routerLink="/panier"
        routerLinkActive="active"
      >
        <span class="header-container-icon">
          <i class="fa-solid fa-cart-shopping"></i>
          <span class="item-counter">
            {{ cartItemsCount ? cartItemsCount : 0 }}
          </span>
        </span>
      </a>
      <a
      class="nav-link"
      routerLink="/connexion"
      routerLinkActive="active"
      >
      <i class="fa-solid fa-user"></i>            
      </a>
      <button (click)="openMobileNavbar()">
        @if (mobileNavbarIsOpen) {
        <i class="fa-solid fa-xmark fa-lg"></i>
        } @else {
        <i class="fa-solid fa-bars fa-lg"></i>
        }
      </button>
    </div>

    <div class="mobile-navbar" [ngClass]="{ open: mobileNavbarIsOpen }">
      <div class="search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
          <path
            d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
          />
        </svg>
        <input type="search" placeholder="Rechercher..." />
      </div>
      <ul class="navbar-nav">
        @if(userIsLogger){
        <li class="nav-item add-posts">
          <a
            class="nav-link"
            routerLink="/product-add"
            routerLinkActive="active"
          >
            <i class="fa-solid fa-plus"></i>
            Déposer une annonce
          </a>
        </li>
        }

        @if (userIsLogger) {
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/profil"
              routerLinkActive="active"
              ><i class="fa-solid fa-user"></i> {{ user.name }}</a
            >
          </li>
        }

        @if (userIsLogger) {
          <li class="nav-item" tabindex="0" (click)="logOutNow()">
            <a>
              <i class="fa-solid fa-arrow-right-from-bracket"></i>
              <span> Déconnexion </span>
            </a>
          </li>
        }
      </ul>
    </div>

    @if (mobileNavbarIsOpen) {
    <div class="cache-header-mobile"></div>
    }
  </nav>
</header>
